{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Projects/Food/web/src/contexts/cart-context.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nfunction CartProvider(props) {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [totalCart, setTotalCart] = useState(0);\n  function AddItemCart(item) {\n    let cartItemNovo = [];\n    let findItem = false;\n\n    // VERIFICAR SE O ITEM JÁ EXISTE NO CARRINHO\n    for (var prod of cartItems) {\n      // ENCONTROU\n      if (prod.id === item.id) {\n        item.qtd = prod.qtd + 1;\n        findItem = true;\n        cartItemNovo.push(item);\n      } else {\n        cartItemNovo.push(prod);\n      }\n    }\n\n    // SE NÃO ENCONTROU O ITEM OU É O PRIMEIRO ITEM A SER INSERIDO\n    if (findItem === false || cartItems.length === 0) {\n      cartItemNovo.push(item);\n    }\n\n    // INSERE DADOS NA LISTA DO CARRINHO\n    setCartItems(cartItemNovo);\n    CalcTotal(cartItemNovo);\n  }\n  function RemoveItemCart(id) {\n    let cartItemNovo = [];\n\n    // LOCALIZA O ITEM E ATUALIZA\n    for (var prod of cartItems) {\n      // ENCONTROU\n      if (prod.id === id) {\n        prod.qtd -= 1;\n      }\n      cartItemNovo.push(prod);\n    }\n\n    // REMOVE ITENS ZERADOS\n    cartItemNovo = cartItemNovo.filter(item => {\n      return item.qtd > 0;\n    });\n\n    // ATUALIZA LISTA DO CARRINHO\n    setCartItems(cartItemNovo);\n    CalcTotal(cartItemNovo);\n  }\n  function CalcTotal(items) {\n    let tot = 0;\n    for (var item of items) {\n      tot = tot + item.preco * item.qtd;\n    }\n    setTotalCart(tot);\n  }\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      setCartItems,\n      AddItemCart,\n      RemoveItemCart,\n      totalCart,\n      setTotalCart\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 10\n  }, this);\n}\n_s(CartProvider, \"YFqShnIfTdZmMHnRazEXxrSg5cc=\");\n_c = CartProvider;\nexport { CartContext, CartProvider };\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useState","jsxDEV","_jsxDEV","CartContext","CartProvider","props","_s","cartItems","setCartItems","totalCart","setTotalCart","AddItemCart","item","cartItemNovo","findItem","prod","id","qtd","push","length","CalcTotal","RemoveItemCart","filter","items","tot","preco","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/rafael/Projects/Food/web/src/contexts/cart-context.jsx"],"sourcesContent":["import { createContext, useState } from \"react\";\n\nconst CartContext = createContext();\n\nfunction CartProvider(props){\n  const [cartItems, setCartItems] = useState([]);\n  const [totalCart, setTotalCart] = useState(0);\n\n  function AddItemCart(item){\n    let cartItemNovo = [];\n    let findItem = false;\n\n    // VERIFICAR SE O ITEM JÁ EXISTE NO CARRINHO\n    for(var prod of cartItems){\n      // ENCONTROU\n      if(prod.id === item.id){\n        item.qtd = prod.qtd + 1;\n        findItem = true;\n        cartItemNovo.push(item);\n      } else {\n        cartItemNovo.push(prod);\n      }\n    }\n\n    // SE NÃO ENCONTROU O ITEM OU É O PRIMEIRO ITEM A SER INSERIDO\n    if(findItem === false || cartItems.length === 0){\n      cartItemNovo.push(item);\n    }\n\n    // INSERE DADOS NA LISTA DO CARRINHO\n    setCartItems(cartItemNovo);\n    CalcTotal(cartItemNovo);\n  }\n\n  function RemoveItemCart(id){\n    let cartItemNovo = [];\n\n    // LOCALIZA O ITEM E ATUALIZA\n    for(var prod of cartItems){\n      // ENCONTROU\n      if(prod.id === id){\n        prod.qtd -= 1;\n      }\n\n      cartItemNovo.push(prod);\n    }\n\n    // REMOVE ITENS ZERADOS\n    cartItemNovo = cartItemNovo.filter(item => {\n      return item.qtd > 0;\n    });\n\n    // ATUALIZA LISTA DO CARRINHO\n    setCartItems(cartItemNovo);\n    CalcTotal(cartItemNovo);\n  }\n\n  function CalcTotal(items){\n    let tot = 0;\n\n    for(var item of items){\n      tot = tot + (item.preco * item.qtd);\n    }\n\n    setTotalCart(tot);\n  }\n\n  return <CartContext.Provider value={{cartItems, setCartItems, AddItemCart, RemoveItemCart, totalCart, setTotalCart}}>\n    {props.children}\n  </CartContext.Provider>\n}\n\nexport {CartContext, CartProvider};"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,WAAW,gBAAGJ,aAAa,CAAC,CAAC;AAEnC,SAASK,YAAYA,CAACC,KAAK,EAAC;EAAAC,EAAA;EAC1B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EAE7C,SAASW,WAAWA,CAACC,IAAI,EAAC;IACxB,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAIC,QAAQ,GAAG,KAAK;;IAEpB;IACA,KAAI,IAAIC,IAAI,IAAIR,SAAS,EAAC;MACxB;MACA,IAAGQ,IAAI,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,EAAC;QACrBJ,IAAI,CAACK,GAAG,GAAGF,IAAI,CAACE,GAAG,GAAG,CAAC;QACvBH,QAAQ,GAAG,IAAI;QACfD,YAAY,CAACK,IAAI,CAACN,IAAI,CAAC;MACzB,CAAC,MAAM;QACLC,YAAY,CAACK,IAAI,CAACH,IAAI,CAAC;MACzB;IACF;;IAEA;IACA,IAAGD,QAAQ,KAAK,KAAK,IAAIP,SAAS,CAACY,MAAM,KAAK,CAAC,EAAC;MAC9CN,YAAY,CAACK,IAAI,CAACN,IAAI,CAAC;IACzB;;IAEA;IACAJ,YAAY,CAACK,YAAY,CAAC;IAC1BO,SAAS,CAACP,YAAY,CAAC;EACzB;EAEA,SAASQ,cAAcA,CAACL,EAAE,EAAC;IACzB,IAAIH,YAAY,GAAG,EAAE;;IAErB;IACA,KAAI,IAAIE,IAAI,IAAIR,SAAS,EAAC;MACxB;MACA,IAAGQ,IAAI,CAACC,EAAE,KAAKA,EAAE,EAAC;QAChBD,IAAI,CAACE,GAAG,IAAI,CAAC;MACf;MAEAJ,YAAY,CAACK,IAAI,CAACH,IAAI,CAAC;IACzB;;IAEA;IACAF,YAAY,GAAGA,YAAY,CAACS,MAAM,CAACV,IAAI,IAAI;MACzC,OAAOA,IAAI,CAACK,GAAG,GAAG,CAAC;IACrB,CAAC,CAAC;;IAEF;IACAT,YAAY,CAACK,YAAY,CAAC;IAC1BO,SAAS,CAACP,YAAY,CAAC;EACzB;EAEA,SAASO,SAASA,CAACG,KAAK,EAAC;IACvB,IAAIC,GAAG,GAAG,CAAC;IAEX,KAAI,IAAIZ,IAAI,IAAIW,KAAK,EAAC;MACpBC,GAAG,GAAGA,GAAG,GAAIZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACK,GAAI;IACrC;IAEAP,YAAY,CAACc,GAAG,CAAC;EACnB;EAEA,oBAAOtB,OAAA,CAACC,WAAW,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAACpB,SAAS;MAAEC,YAAY;MAAEG,WAAW;MAAEU,cAAc;MAAEZ,SAAS;MAAEC;IAAY,CAAE;IAAAkB,QAAA,EACjHvB,KAAK,CAACuB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AACzB;AAAC1B,EAAA,CAlEQF,YAAY;AAAA6B,EAAA,GAAZ7B,YAAY;AAoErB,SAAQD,WAAW,EAAEC,YAAY;AAAE,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}